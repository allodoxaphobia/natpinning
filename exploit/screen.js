var gSteps =["Step1", "Step2", "Step3"]

function displayStep(sID){
	for (var i = 0; i < gSteps.length; i++){
		lElement = document.getElementById(gSteps[i]);
		if (gSteps[i]==sID){
			hideElement(lElement,false);
		}else{
			hideElement(lElement,true); 
		}
	}
	document.getElementById("Errmsg").innerHTML=" ";
}

function updateBaseCheck(){
	//blocking function
	var done_count = 0;
	done_count=0;
	for (var i = 0; i < gTests.length; i++){
		updateTest(gTests[i]); // will only fire if status != DONE
		if (gTests[i].STATUS=="DONE"){
			var lElement = document.getElementById("li_"+ gTests[i].PROTO);
			lElement.innerHTML = gTests[i].PROTO + "............." + gTests[i].RESULT;
			done_count = done_count +1;
		}
	}
	if (done_count<gTests.length){
		setTimeout(updateBaseCheck,3000);
	}else{
		hideElement(document.getElementById("step_next"),false);
	}
}
function updateBasePortCheck(){
	//blocking function
	var done_count = 0;
	done_count=0;
	for (var i = 0; i < gTests.length; i++){
		updateTest(gTests[i]); // will only fire if status != DONE
		if (gTests[i].STATUS=="DONE"&& gTests[i].PRIV_IP==gMyIP){
			var lElement = document.getElementById("step3_low_port_"+ gTests[i].PROTO);
			lElement.innerHTML = gTests[i].PROTO + "............." + gTests[i].RESULT;
			done_count = done_count +1;
		}
	}
	if (done_count<gTests.length/2){
		setTimeout(updateBasePortCheck,3000);	
	}
}
function updateBaseOtherHostCheck(){
	//blocking function
	var done_count = 0;
	done_count=0;
	for (var i = 0; i < gTests.length; i++){
		updateTest(gTests[i]); // will only fire if status != DONE
		if (gTests[i].STATUS=="DONE" && gTests[i].PRIV_IP!=gMyIP){
			var lElement = document.getElementById("step3_other_"+ gTests[i].PROTO);
			lElement.innerHTML = gTests[i].PROTO + "............." + gTests[i].RESULT;
			done_count = done_count +1;
		}
	}
	if (done_count<gTests.length/2){
		setTimeout(updateBaseOtherHostCheck,3000);	
	}else{
		try{
			hideElement(document.getElementById("step_next"),false);
		}catch(err){

			}
	}
}

